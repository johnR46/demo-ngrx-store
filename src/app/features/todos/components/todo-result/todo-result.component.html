<ngx-datatable
  fxFlex
  style="width: 100%;"
  class="material"
  [rows]="todos"
  [columnMode]="'force'"
  [headerHeight]="30"
  [rowHeight]="33"
  [footerHeight]="0"
  [scrollbarV]="true"
  [messages]="{ emptyMessage: 'no data' }"
  [selectionType]="'single'"
>
  <ngx-datatable-column
    name=""
    [headerClass]="'w-index text-center'"
    [cellClass]="'w-index text-center'"
    [resizeable]="false"
    [draggable]="false"
  >
    <ng-template let-index="rowIndex" ngx-datatable-cell-template>
      {{ index + 1 }}
    </ng-template>
  </ngx-datatable-column>

  <ngx-datatable-column
    name="รหัส"
    [headerClass]="'w-5-p'"
    [cellClass]="'w-5-p'"
    [resizeable]="false"
    [draggable]="false"
  >
    <ng-template let-row="row" ngx-datatable-cell-template>
      {{ row?.code }}
    </ng-template>
  </ngx-datatable-column>

  <ngx-datatable-column
    name="ชื่อ"
    [headerClass]="'w-20-p'"
    [cellClass]="'w-20-p'"
    [resizeable]="false"
    [draggable]="false"
  >
    <ng-template let-row="row" ngx-datatable-cell-template>
      {{ row?.name }}
    </ng-template>
  </ngx-datatable-column>

  <ngx-datatable-column
    name="ประเภท"
    [headerClass]="'w-20-p'"
    [cellClass]="'w-20-p'"
    [resizeable]="false"
    [draggable]="false"
  >
    <ng-template let-row="row" ngx-datatable-cell-template>
      {{ row?.type }}
    </ng-template>
  </ngx-datatable-column>

  <!-- Actions -->
  <ngx-datatable-column
    name=""
    [headerClass]="'w-actions'"
    [cellClass]="'w-actions'"
    [resizeable]="false"
    [draggable]="false"
  >
    <ng-template let-row="row" let-index="rowIndex" ngx-datatable-cell-template>
      <button
        mat-icon-button
        class="custom-button-action"
        color="primary"
        (click)="view.emit(row)"
      >
        <div class="custom-ngx-icon-search">
          {{ index }}
          <mat-icon>search</mat-icon>
        </div>
      </button>

      <button
        class="custom-button-action"
        mat-icon-button
        color="primary"
        (click)="update.emit({ todo: row, index: index })"
      >
        <div class="custom-ngx-icon-edit">
          <mat-icon>edit</mat-icon>
        </div>
      </button>
    </ng-template>
  </ngx-datatable-column>
</ngx-datatable>
